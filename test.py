import streamlit as st
import datetime

# -------------------------
# ë³„ìë¦¬ ê³„ì‚° í•¨ìˆ˜
# -------------------------
def get_zodiac(month, day):
    zodiac_dates = [
        ("ë¬¼ë³‘ìë¦¬ â™’", (1,20), (2,18)),
        ("ë¬¼ê³ ê¸°ìë¦¬ â™“", (2,19), (3,20)),
        ("ì–‘ìë¦¬ â™ˆ", (3,21), (4,19)),
        ("í™©ì†Œìë¦¬ â™‰", (4,20), (5,20)),
        ("ìŒë‘¥ì´ìë¦¬ â™Š", (5,21), (6,21)),
        ("ê²Œìë¦¬ â™‹", (6,22), (7,22)),
        ("ì‚¬ììë¦¬ â™Œ", (7,23), (8,22)),
        ("ì²˜ë…€ìë¦¬ â™", (8,23), (9,22)),
        ("ì²œì¹­ìë¦¬ â™", (9,23), (10,23)),
        ("ì „ê°ˆìë¦¬ â™", (10,24), (11,22)),
        ("ì‚¬ìˆ˜ìë¦¬ â™", (11,23), (12,21)),
        ("ì—¼ì†Œìë¦¬ â™‘", (12,22), (1,19)),
    ]

    for sign, (sm, sd), (em, ed) in zodiac_dates:
        if (month == sm and day >= sd) or (month == em and day <= ed):
            return sign
    return "ì•Œ ìˆ˜ ì—†ìŒ"

# -------------------------
# ì˜¤ëŠ˜ì˜ ìš´ì„¸ ë°ì´í„° (ì˜¤í•˜ì•„ì‚¬ ëŠë‚Œ)
# -------------------------
ohasa_data = {
    "ìŒë‘¥ì´ìë¦¬ â™Š": {"rank":1, "fortune":"ìƒê°ì§€ë„ ëª»í•œ í˜œíƒì´ ìˆì„ì§€ë„! ğŸ›ï¸", "lucky":"âœ¨ ì´ë§ˆì— ì‚¼ê°í˜•ì„ ê·¸ë ¤ë³´ì„¸ìš”"},
    "ì²œì¹­ìë¦¬ â™": {"rank":2, "fortune":"ì¢‹ì•„í•˜ëŠ” ì‚¬ëŒê³¼ ê°€ê¹Œì›Œì§ˆ ê¸°íšŒ ğŸ’•", "lucky":"âœ‰ï¸ í¸ì§€ë¥¼ ì¨ë³´ì„¸ìš”"},
    "ë¬¼ë³‘ìë¦¬ â™’": {"rank":3, "fortune":"ëœ»ë°–ì˜ í–‰ìš´ì´ ì°¾ì•„ì™€ìš” ğŸŒˆ", "lucky":"ğŸ¥© ë¶ˆê³ ê¸°ë¥¼ ë¨¹ì–´ë³´ì„¸ìš”"},
    "ì‚¬ìˆ˜ìë¦¬ â™": {"rank":4, "fortune":"í™œë™ì ì¸ í•˜ë£¨ê°€ í–‰ìš´ì„ ë¶ˆëŸ¬ì™€ìš” ğŸš´", "lucky":"ğŸ“¸ ì‚¬ì§„ì„ ì°ì–´ë³´ì„¸ìš”"},
    "ì‚¬ììë¦¬ â™Œ": {"rank":5, "fortune":"ì£¼ìœ„ì—ì„œ ì‘ì›ì´ ë”°ë¥´ëŠ” ë‚  ğŸ’ª", "lucky":"ğŸŒ¸ ê½ƒ í–¥ê¸°ë¥¼ ë§¡ì•„ë³´ì„¸ìš”"},
    "ê²Œìë¦¬ â™‹": {"rank":6, "fortune":"ë§ˆìŒì´ ë”°ëœ»í•´ì§€ëŠ” í•˜ë£¨ ğŸ€", "lucky":"â˜• ë”°ëœ»í•œ ì°¨ë¥¼ ë§ˆì…”ë³´ì„¸ìš”"},
    "ì „ê°ˆìë¦¬ â™": {"rank":7, "fortune":"ì§‘ì¤‘í•˜ë©´ ì¢‹ì€ ì„±ê³¼ê°€ ìˆì–´ìš” ğŸ“š", "lucky":"ğŸ–‹ï¸ ë…¸íŠ¸ì— ê¸€ì„ ì ì–´ë³´ì„¸ìš”"},
    "ë¬¼ê³ ê¸°ìë¦¬ â™“": {"rank":8, "fortune":"ì†Œì†Œí•œ ì¦ê±°ì›€ì´ ì°¾ì•„ì™€ìš” ğŸ¶", "lucky":"ğŸ« ë‹¬ì½¤í•œ ê°„ì‹ì„ ì¦ê¸°ì„¸ìš”"},
    "ì—¼ì†Œìë¦¬ â™‘": {"rank":9, "fortune":"ì¡°ê¸ˆ ëŠë¦¬ì§€ë§Œ ì•ˆì •ì ì¸ í•˜ë£¨ ğŸ¢", "lucky":"ğŸš¶ ì‚°ì±…ì„ í•´ë³´ì„¸ìš”"},
    "ì²˜ë…€ìë¦¬ â™": {"rank":10,"fortune":"ë””í…Œì¼ì„ ë†“ì¹˜ì§€ ë§ˆì„¸ìš” ğŸ”", "lucky":"ğŸ§´ í–¥ìˆ˜ë¥¼ ë¿Œë ¤ë³´ì„¸ìš”"},
    "ì–‘ìë¦¬ â™ˆ": {"rank":11,"fortune":"ì„±ê¸‰í•˜ë©´ ì‹¤ìˆ˜ê°€ ìƒê¸¸ì§€ë„ ğŸ˜µ", "lucky":"ğŸ§˜â€â™€ï¸ ì ì‹œ ëª…ìƒí•´ë³´ì„¸ìš”"},
    "í™©ì†Œìë¦¬ â™‰": {"rank":12,"fortune":"ì¡°ê¸ˆ ë‹µë‹µí•œ í•˜ë£¨ ğŸ’­", "lucky":"ğŸ› ë°˜ì‹ ìš•ìœ¼ë¡œ íœ´ì‹í•˜ì„¸ìš”"},
}

# -------------------------
# Streamlit ì•± UI
# -------------------------
st.set_page_config(page_title="ì˜¤í•˜ì•„ì‚¬ ë³„ìë¦¬ ìš´ì„¸", page_icon="ğŸŒ…", layout="centered")

st.markdown(
    "<h1 style='text-align:center; color:#FF69B4;'>ğŸŒ… ì˜¤ëŠ˜ì˜ ì˜¤í•˜ì•„ì‚¬ ë³„ìë¦¬ ìš´ì„¸ ğŸŒ…</h1>",
    unsafe_allow_html=True
)

# ìƒì¼ ì…ë ¥ ë°›ê¸°
birthday = st.date_input("ğŸ‚ ìƒì¼ì„ ì…ë ¥í•˜ì„¸ìš”", datetime.date(2000,1,1))

if birthday:
    zodiac = get_zodiac(birthday.month, birthday.day)
    st.markdown(f"## âœ¨ ë‹¹ì‹ ì˜ ë³„ìë¦¬ëŠ” {zodiac} ì…ë‹ˆë‹¤!")

    if zodiac in ohasa_data:
        data = ohasa_data[zodiac]

        st.markdown(
            f"""
            <div style='background:#FFF0F5; border-radius:20px; padding:25px; text-align:center; 
                        box-shadow:2px 4px 12px rgba(0,0,0,0.15); margin-top:20px;'>
                <h2 style='color:#FF69B4;'>ğŸ† ì˜¤ëŠ˜ì˜ ìˆœìœ„: {data['rank']}ìœ„</h2>
                <p style='font-size:18px;'>ğŸ”® ìš´ì„¸: {data['fortune']}</p>
                <p style='font-size:18px;'>ğŸ€ í–‰ìš´ íŒ: {data['lucky']}</p>
            </div>
            """, unsafe_allow_html=True
        )
    else:
        st.warning("ì˜¤ëŠ˜ì€ ë³„ìë¦¬ ìš´ì„¸ ë°ì´í„°ê°€ ì—†ì–´ìš” ğŸ˜¢")
